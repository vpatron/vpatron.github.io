<!DOCTYPE html>
<html lang="en">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-109275873-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-109275873-1');
</script>
    <meta charset="utf-8">    
    <title>Hummicam, Raspberry Pi wildlife camera</title> 
    <meta name="description" content="This is Vince's site for various projects he's tinkering with.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Lato:400,400italic,700,700italic" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="canonical" href="http://justgoodthemes.com/2018/02/18/Hummicam-Raspberry-Pi-wildlife-camera/">
    <link rel="alternate" type="application/rss+xml" title="vince.patronweb.com Feed" href="http://justgoodthemes.com/feed.xml">
</head>
<body>
    <nav id="top" class="site-navigation">
        <div class="inner">
            <button id="menu-toggle" aria-expanded="false">Menu</button>
            <div class="nav-menu">
                <ul class="menu">
                
                  
                  
                  <li class="">
                    <a class="" href="/">Home</a>
                  </li>
                
                  
                  
                  <li class="">
                    <a class="" href="/about/">About</a>
                  </li>
                
                  
                  
                  <li class="">
                    <a class="" href="/other_sites/">Other Sites</a>
                  </li>
                
                  
                  
                  <li class="">
                    <a class="" href="/tags/">Archives</a>
                  </li>
                
                  
                  
                  <li class="">
                    <a class="" href="/style-guide/">Style Guides</a>
                  </li>
                
                </ul>        
            </div><!-- .nav-menu -->
            <a class="subscribe-button fa-feed square fill-horizontal" href="/feed.xml"><span class="screen-reader-text">Subscribe</span></a>
        </div><!-- .inner -->
    </nav><!-- .site-navigation -->
    <header class="site-header">
        <div class="inner">
            <h1 class="site-title"><a class="logo-text" href="/">vince.patronweb.com</a></h1>
            <p class="site-description">Tinker, create, invent</p>
        </div><!-- .inner -->
    </header>
    <div class="site-content">
    <div class="inner">
        <main class="site-main">
            <article class="post">
                <header class="entry-header"> 
                    <div class="entry-header-wrap">
                        
                        <div class="post-thumbnail">
                            <img src="/images/posts/hummicam-side.jpg" alt="Hummicam, Raspberry Pi wildlife camera">
                        </div><!-- .post-thumbnail -->
                        
                        <h1 class="entry-title">Hummicam, Raspberry Pi wildlife camera</h1>
                    </div><!-- .entry-header-wrap -->
                    <div class="entry-meta">
                        by <span class="post-author">Vince</span> on <time class="published" datetime="2018-02-18">February 18, 2018</time>
                    </div><!-- .entry-meta -->
                </header><!-- .entry-header -->
                <div class="entry-content">
                    <p>A hummingbird decided to nest in our potted olive tree so, of course, I had to scour the web to see if I could make a wildlife camera using my favorite single-board computer, the <a href="https://www.adafruit.com/product/3400">$10 Raspberry Pi Zero W</a>. The result was fantastic!</p>

<!--more-->

<p>I found <a href="http://pibat.afraidofsunlight.co.uk/pi-projects">this guy’s webpage</a> which had a fantastic idea of mating an inexpensive clip-on telephoto lens to a Raspberry Pi camera sensor. I decided to replicate his work.</p>

<p>The result was impressive. Ok, it’s definitly not National Geographic quality, and the photographers will whine about horrible chromatic aberration,  but it is damn awesome for a $12 lens hacked on to a $20 camera running on a $10 Linux computer with wifi in a $1.50 plastic teacup!</p>

<h2>The Results</h2>

<p>The results are fantastic for very low budget gear!</p>

<iframe src="https://www.youtube.com/embed/3Ll6AYvHUAs" width="854" height="480" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>

<h2>The Hardware</h2>

<ul>
  <li><a href="https://www.adafruit.com/product/3400">Raspberry Pi Zero W</a> (W has wifi)</li>
  <li>16 GB SD card</li>
  <li><a href="https://www.adafruit.com/product/3508">Raspberry Pi 5 MP camera for Zero</a> (different version than Pi 3)</li>
  <li>Phone USB charger – a crappy 500 mA one works just fine</li>
  <li>USB-to-micro-B cable</li>
  <li><a href="https://shop.pimoroni.com/products/telephoto-lens">Clip-on telephoto for cell phone</a> from Pimoroni</li>
</ul>

<figure class="caption">
    <img src="/images/posts/hummingbird-nesting.jpg" alt="Anna's Hummingbird" />
    
    <figcaption class="caption-text">Anna's hummingbird nesting</figcaption> 
    
</figure>

<p>The camera is made specifically for the Pi Zero which has a smaller connector than the RPi3. The telephoto is the same one from Pimoroni the other guy used from the UK. I’m sure other brands and types will work just fine.</p>

<p>For power, the Pi Zero W is much lower power (and slower) than the RPi3 so it is happy with a 500 mA adapter.</p>

<h2>The Software</h2>

<figure class="caption">
    <img src="/images/posts/hummicam-pikrellcam.png" alt="PiKrellCam Web Interface" />
    
    <figcaption class="caption-text">PiKrellCam Web Interface</figcaption> 
    
</figure>

<p><a href="https://github.com/billw2/pikrellcam">PiKrellCam</a> is the software I used to 
control the camera. The cool thing is that it runs a web server. All you have 
to do is http:// to the IP of your Pi Zero and you get this screen for full 
control of the camera.</p>

<p><strong>Installation</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/billw2/pikrellcam
<span class="nb">cd </span>pikrellcam
./install-pikrellcam.sh
</code></pre></div></div>

<p>You can shoot stills and video, adjust settings, download the files, reboot the Pi, all via the web interface.</p>

<p>PiKrellCamm big feature is motion triggering, but I found it useless because the SW would false trigger constantly because of the wind swaying the tree.</p>

<p>One odd observation is that the camera’s white balance seems wrong. When set to “sunlight”, “shade” or “cloudy” settings, the image is very yellow. I had to set it to “incandescent” to get more correct looking colors.</p>

<h2>USB Serial Gadget</h2>

<p>Once the enclosure is sealed up, getting to the SD card to change wifi settings will be impossible. That’s where the USB Serial Gadget mode comes in.</p>

<p>The Raspberry Pi Zero (and the Zero W) support special USB OTG modes which the RPi3 does not. Your Zero can be a USB serial device through which you can get to the console and files without using a special UART cable.</p>

<p>The <a href="http://www.tal.org/tutorials/raspberry-pi-zero-usb-serial-console">best instructions I found here</a> show you how to configure everything via the files on the SD card. There’s no need to ever attach a keyboard and monitor.</p>

<p>Here’s the gist: you have the OS load the USB driver called dwc2 at boot, enable it, and connect the console to this USB driver.</p>

<p>In /boot/config.txt add this line towards the end:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dtoverlay=dwc2
</code></pre></div></div>

<p>In /boot/cmdline.txt add “modules-load=dwc2,g_serial” just after “rootwait”. This will all be in one long line.</p>

<p>cd to /etc/systemd/system/getty.target.wants directory and create this symlink to redirect the console to ttyGS0.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ln -s /lib/systemd/system/getty@.service getty@ttyGS0.service
</code></pre></div></div>

<h3>The Build</h3>

<figure class="caption">
    <img src="/images/posts/hummicam-back-open.jpg" alt="Hummicam, Open Back" />
    
    <figcaption class="caption-text">Hummicam, open back</figcaption> 
    
</figure>

<p>I found a square plastic tea cup for $1.50 at a local discount shop and put that to service.</p>

<p>The lens has a threaded base. I drilled a very large hole with a step drill bit, being careful to drill it just a tiny bit smaller than the lens threads. After some careful twisting I got the lens to thread into the hole without having to tap threads.</p>

<p>Mounting the camera sensor was the hardest part. I did not get good pictures of it but basically the camera has to be about 10 cm from the base of the lens. I mounted the camera(which comes with a sticky back side) on a rectangular aluminum plate and put a stack of 8 double-sided foam tape (the thick kind) to get it at the right distance from the lens. Finding the optical center took a lot of trial and error. I’ll fabricate something better for the next build or find someone to 3D print something for me.</p>

<figure class="caption">
    <img src="/images/posts/hummicam-pikrellcam.png" alt="Completed Hummingbird Camera" />
    
    <figcaption class="caption-text">Completed hummingbird camera</figcaption> 
    
</figure>

<p>I drilled and tapped a standard 1/4”-20 threaded hole into the bottom to attach the box to a camera tripod. The USB cable is just hot-glued to the corner of the case.</p>

<p>The back is completely open so I just took a lot of camouflage duct tape and completely covered the box to help seal it from water since this will sit outdoors continuously operating for a month or more.</p>

<h2>Outdoor Placement</h2>

<p>Anna’s Hummingbirds are very well adjusted to city life and are thus not spooked by weird man-made contraptions like my lousy camera setup. For more skittish birds and animals, more effective camouflage will probably be in order.</p>

<figure class="caption">
    <img src="/images/posts/hummicam-tree.jpg" alt="Hummicam aimed at nest" />
    
    <figcaption class="caption-text">Hummicam aimed at hummingbird nest</figcaption> 
    
</figure>


                </div><!-- .entry-content -->
                <footer class="entry-footer">
                    <div class="share-post">
                        <span>Share</span>
                        <a class="fa-twitter" target="_blank" href="https://twitter.com/intent/tweet?text=Hummicam,%20Raspberry%20Pi%20wildlife%20camera&amp;url=http://justgoodthemes.com/2018/02/18/Hummicam-Raspberry-Pi-wildlife-camera/"><span class="screen-reader-text">Twitter</span></a>
                        <a class="fa-facebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://justgoodthemes.com/2018/02/18/Hummicam-Raspberry-Pi-wildlife-camera/&amp;t=Hummicam,%20Raspberry%20Pi%20wildlife%20camera"><span class="screen-reader-text">Facebook</span></a>
                        <a class="fa-google-plus" target="_blank" href="http://plus.google.com/share?url=http://justgoodthemes.com/2018/02/18/Hummicam-Raspberry-Pi-wildlife-camera/"><span class="screen-reader-text">Google+</span></a>
                    </div><!-- .share-post -->
                    
                    <div class="tag-links">
                        Tags: <a href="/tags/index.html#raspberry+pi" title="Pages tagged raspberry pi" rel="tag">raspberry pi</a><a href="/tags/index.html#photography" title="Pages tagged photography" rel="tag">photography</a><a href="/tags/index.html#nature" title="Pages tagged nature" rel="tag">nature</a>
                    </div>
                    
                </footer><!-- .entry-footer -->
            </article><!-- .post -->
            <div class="author-box">
                <div class="author-info">
                    <div class="author-avatar" style="background-image: url(/images/vince-sketch.jpg)"><span class="screen-reader-text">Vince's Picture</span></div>
                    <div class="author-details">
                        <h2 class="author-title">About Vince</h2>
                        <p class="author-bio">Vince has loved to tinker since he was a kid. He became an engineer so he can play all the time.</p>
                        <span class="author-location"><i class="fa-map-marker" aria-hidden="true"></i> California, USA</span>
                        <span class="author-website"><i class="fa-chain" aria-hidden="true"></i> <a href="https://www.facebook.com/vince.patron" target="_blank"> https://www.facebook.com/vince.patron</a></span>
                    </div><!-- .author-details -->
                </div><!-- .author-info -->
            </div><!-- .author-box -->
            <nav class="post-navigation">
                <h2 class="screen-reader-text">Post navigation</h2>
                
                <div class="nav-previous">
                    <div class="nav-inside">
                        
                        <a href="/2018/02/01/raspberry-pi-nixie/" class="nav-thumb" style="background-image: url(/images/posts/pi-nixie.jpg)"></a>
                        
                        <div class="nav-before">Previous</div>
                        <div class="nav-title"><a href="/2018/02/01/raspberry-pi-nixie/">Driving a nixie module with a Raspberry Pi</a></div>
                        <div class="nav-date">February 1, 2018</div>
                    </div><!-- .nav-inside -->
                </div><!-- .nav-previous -->
                
                
            </nav><!-- .post-navigation -->
            
                <div class="comments-area">
    <div class="comments-inner">
        <h2 class="comments-title">Comments</h2>
        <div id="disqus_thread"></div>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus</a>.</noscript>
    </div><!-- .comments-inner -->
</div><!-- .comments-area -->

<script type="text/javascript">
    var disqus_shortname = 'vince-patronweb';
    var disqus_developer = 0;
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
</script>

            
        </main><!-- .site-main -->
        <aside class="sidebar">

    
    <section class="widget widget-text">
        <h2 class="widget-title">About Vince</h2>
        <p>Vince has loved to tinker since he was a kid. He became an engineer so he can play all the time.</p>
    </section><!-- .widget-text -->
    

    

    

    <section class="widget widget-recent-posts">
        <h2 class="widget-title">Latest Posts</h2>
        <ul class="recent-posts">
            
            <li class="recent-item"><a href="/2018/02/18/Hummicam-Raspberry-Pi-wildlife-camera/">Hummicam, Raspberry Pi wildlife camera</a> <span>February 18, 2018</span></li>
            
            <li class="recent-item"><a href="/2018/02/01/raspberry-pi-nixie/">Driving a nixie module with a Raspberry Pi</a> <span>February 1, 2018</span></li>
            
        </ul><!-- .recent-posts -->
    </section><!-- .widget-recent-posts -->

    <!--Create a sorted array of tags-->
    
    
    <section class="widget widget-tags">
        <h2 class="widget-title">Tags</h2>
        <div class="tagcloud">
            
            <a href="/tags/#nature">nature</a>
            
            <a href="/tags/#nixie">nixie</a>
            
            <a href="/tags/#photography">photography</a>
            
            <a href="/tags/#python">python</a>
            
            <a href="/tags/#raspberry+pi">raspberry pi</a>
            
        </div><!-- .tagcloud -->
    </section><!-- .widget -->

</aside><!-- .sidebar -->

    </div><!-- .inner -->
</div><!-- .site-content -->

    <footer class="site-footer">
    <div class="inner">
        <div class="social-links">
            
            <a href="https://twitter.com/vpatron0" class="fa-twitter square fill-horizontal"><span class="screen-reader-text">Twitter</span></a>
            
            
            <a href="https://www.facebook.com/vince.patron" class="fa-facebook square fill-horizontal"><span class="screen-reader-text">Facebook</span></a>
            
            
            
            <a href="https://github.com/vpatron0" class="fa-github-alt square fill-horizontal"><span class="screen-reader-text">GitHub</span></a>
            
            
            
            
            
            <a href="http://instagram.com/vpatron0" class="fa-instagram square fill-horizontal"><span class="screen-reader-text">Instagram</span></a>
            
            
            
            <a href="https://www.linkedin.com/in/vincepatron" class="fa-linkedin square fill-horizontal"><span class="screen-reader-text">LinkedIn</span></a>
            
            
            <a class="fa-feed square fill-horizontal" href="/feed.xml"><span class="screen-reader-text">RSS</span></a>
        </div><!-- .social-links -->
        <div class="site-info">
            &copy; <a href="/">vince.patronweb.com</a> all rights reserved.<br/>Powered by <a target="_blank" href="https://jekyllrb.com/">Jekyll</a>.
            <a href="#top" id="top-link" class="fa-chevron-up top-link square fill-horizontal"><span class="screen-reader-text">Back to the top</span></a>
        </div><!-- .site-info -->
    </div><!-- .inner -->
</footer><!-- .site-footer -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script type="text/javascript" src="/js/plugins.js"></script>
    <script type="text/javascript" src="/js/custom.js"></script>
</body>
</html>
